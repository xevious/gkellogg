(()=>{"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const r=16*Math.random()|0;return("x"===e?r:3&r|8).toString(16)}))}const r=e=>{let r=!1;if(!/\(iP(hone|ad|od);/i.test(window?.navigator?.userAgent))try{r=navigator.sendBeacon(e)}catch(e){}r||((new Image).src=e)};!function(){const{site:t,rollout:o,fleetConfig:s,requestUrl:n,isInSEO:i,shouldReportErrorOnlyInPanorama:a}=window.fedops.data,c=(e=>{const{userAgent:r}=e.navigator;return/instagram.+google\/google/i.test(r)?"":/bot|google(?!play)|phantom|crawl|spider|headless|slurp|facebookexternal|Lighthouse|PTST|^mozilla\/4\.0$|^\s*$/i.test(r)?"ua":""})(window)||(()=>{try{if(window.self===window.top)return""}catch(e){}return"iframe"})()||(()=>{if(!Function.prototype.bind)return"bind";const{document:e,navigator:r}=window;if(!e||!r)return"document";const{webdriver:t,userAgent:o,plugins:s,languages:n}=r;if(t)return"webdriver";if(!s||Array.isArray(s))return"plugins";if(Object.getOwnPropertyDescriptor(s,"0")?.writable)return"plugins-extra";if(!o)return"userAgent";if(o.indexOf("Snapchat")>0&&e.hidden)return"Snapchat";if(!n||0===n.length||!Object.isFrozen(n))return"languages";try{throw Error()}catch(e){if(e instanceof Error){const{stack:r}=e;if(r&&/ (\(internal\/)|(\(?file:\/)/.test(r))return"stack"}}return""})()||(i?"seo":""),d=!!c,{isCached:p,caching:m,microPop:l}=((e,r)=>{let t,o="none",s=e.match(/ssr-caching="?cache[,#]\s*desc=([\w-]+)(?:[,#]\s*varnish=(\w+))?(?:[,#]\s*dc[,#]\s*desc=([\w-]+))?(?:"|;|$)/);if(!s&&window.PerformanceServerTiming){const e=(e=>{let r,t;try{r=e()}catch(e){r=[]}const o=[];return r.forEach((e=>{switch(e.name){case"cache":o[1]=e.description;break;case"varnish":o[2]=e.description;break;case"dc":t=e.description}})),{microPop:t,matches:o}})(r);t=e.microPop,s=e.matches}if(s&&s.length&&(o=`${s[1]},${s[2]||"none"}`,t||(t=s[3])),"none"===o){const e="undefined"!=typeof performance?performance.timing:null;e&&e.responseStart-e.requestStart==0&&(o="browser")}return{caching:o,isCached:o.includes("hit"),...t?{microPop:t}:{}}})(document.cookie,(()=>performance.getEntriesByType("navigation")[0].serverTiming||[])),u={WixSite:1,UGC:2,Template:3}[t.siteType]||0,w=t.appNameForBiEvents,{isDACRollout:f,siteAssetsVersionsRollout:g}=o,h=f?1:0,x=g?1:0,v=0===s.code||1===s.code?s.code:null,S=2===s.code,b=Date.now()-window.initialTimestamps.initialTimestamp,y=Math.round(performance.now()),{visibilityState:I}=document,$=I,{fedops:_,addEventListener:O,thunderboltVersion:T}=window;_.apps=_.apps||{},_.apps[w]={startLoadTime:y},_.sessionId=t.sessionId,_.vsi=e(),_.is_cached=p,_.phaseStarted=R(28),_.phaseEnded=R(22),performance.mark("[cache] "+m+(l?" ["+l+"]":"")),_.reportError=(e,r="load")=>{const t=e?.reason||e?.message;t?(a||k(26,`&errorInfo=${t}&errorType=${r}`),E({error:{name:r,message:t,stack:e?.stack}})):e.preventDefault()},O("error",_.reportError),O("unhandledrejection",_.reportError);let A=!1;function k(e,o=""){if(n.includes("suppressbi=true"))return;const s="//frog.wix.com/bolt-performance?src=72&evid="+e+"&appName="+w+"&is_rollout="+v+"&is_company_network="+S+"&is_sav_rollout="+x+"&is_dac_rollout="+h+"&dc="+t.dc+(l?"&microPop="+l:"")+"&is_cached="+p+"&msid="+t.metaSiteId+"&session_id="+window.fedops.sessionId+"&ish="+d+"&isb="+d+(d?"&isbr="+c:"")+"&vsi="+window.fedops.vsi+"&caching="+m+(A?",browser_cache":"")+"&pv="+$+"&pn=1&v="+T+"&url="+encodeURIComponent(n)+"&st="+u+`&ts=${b}&tsn=${y}`+o;r(s)}function E({transaction:e,error:r}){const o=[{fullArtifactId:"com.wixpress.html-client.wix-thunderbolt",componentId:""+("Studio"===window.fedops.data.site.editorName?"wix-studio":"thunderbolt"+(window.fedops.data.site.isResponsive?"-responsive":"")),platform:"viewer",msid:window.fedops.data.site.metaSiteId,sessionId:window.fedops.vsi,sessionTime:Date.now()-window.initialTimestamps.initialTimestamp,logLevel:r?"ERROR":"INFO",message:r?.message??(e?.name&&`${e.name} START`),errorName:r?.name,errorStack:r?.stack,transactionName:e?.name,transactionAction:e&&"START",isSsr:!1,dataCenter:t.dc,isCached:!!p,isRollout:!!v,isHeadless:!!d,isDacRollout:!!h,isSavRollout:!!x,isCompanyNetwork:!!S}];try{const e=JSON.stringify({messages:o});return navigator.sendBeacon("https://panorama.wixapps.net/api/v1/bulklog",e)}catch(e){console.error(e)}}function R(e){return(r,t)=>{const o=`&name=${r}&duration=${Date.now()-b}`,s=t&&t.paramsOverrides?Object.keys(t.paramsOverrides).map((e=>e+"="+t.paramsOverrides[e])).join("&"):"";k(e,s?`${o}&${s}`:o)}}if(O("pageshow",(({persisted:e})=>{e&&(A||(A=!0,_.is_cached=!0))}),!0),window.__browser_deprecation__)return;const P=document.referrer?`&document_referrer=${document.referrer}`:"",N=window.sessionStorage.getItem("isMpa"),C=N?`&isMpa=${N}`:"";N&&window.sessionStorage.removeItem("isMpa");let D=window.sessionStorage.getItem("mpaSessionId");D||(D=e(),window.sessionStorage.setItem("mpaSessionId",D)),k(21,`&platformOnSite=${window.fedops.data.platformOnSite}&mpaSessionId=${D}${P}${C}`),E({transaction:{name:"PANORAMA_COMPONENT_LOAD"}})}()})();
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/sendFedopsLoadStarted.inline.d72c147b.bundle.min.js.map